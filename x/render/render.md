# このmain.goで負担すること
======================

## 全体概要
1. S3のオリジナル画像用バケットに画像がputされてLambda-Aがキックされる
2. Lambda-Aではjpg, gif, pngの場合に「画像の圧縮　→画像のトリミング　→受け取ったオブジェクトのパスと同一階層のオブジェクトを参照用バケットに作成」を行う
3. pdfの場合、Lambda-AからLambda-Bを起動
4. Lambda-Bではpdf　→jpgにconvertを行い、オリジナル画像用バケットにアウトプットする
5. Lambdaでエラーが起こった場合はcloudwatchで検知してアラートを飛ばす

## 加工処理として担保すること
機能としてこのfunctionで担当することは下記の通りである
```
- 加工処理 (golangだけで完結する処理)
    - 画像の圧縮: 
        - 画像圧縮率はGoogle推奨85%の状態で行う
    - 画像トリミング処理: 
        - 画像の比率を維持したまま300pxの正方形で切り出す
        - 画像の中心から指定サイズにトリミングを行う
    - 拡張子変換:
        - gif,png,pdfすべてjpgにする
```

## TODOリスト
- [x] 画像データの中で最も短い長さを返す
- [x] 画像データの背景色を白にする
- [x] 画像サイズをパーセント比率で変える
- [x] 画像データをトリミングして返す
- [x] 画像サイズを指定のサイズの正方形して返す